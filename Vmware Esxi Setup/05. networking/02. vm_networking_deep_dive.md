# ESXi RDS Lab Architecture

This lab simulates a production-grade Remote Desktop Services (RDS) environment using VMware ESXi. It includes key RDS components like RD Gateway, Connection Broker, Session Hosts, and a Domain Controller, forming a complete, secure virtual desktop infrastructure.

---

## ğŸ§  VM Inventory

| VM Name         | IP Address    | Role                                   | Notes                                   |
|----------------|---------------|----------------------------------------|-----------------------------------------|
| **DC01**        | 192.168.0.5   | Active Directory, DNS                  | Root of `domain.local` âœ…               |
| **RDGateway**   | 192.168.0.6   | RD Gateway (Public Entry Point)        | Dual NIC, HTTPS RDP ğŸ” âœ…               |
| **RDS01**       | 192.168.0.10  | RD Session Host 1                      | Part of RD farm âœ…                       |
| **FS01**        | 192.168.0.11  | File Server or Optional Tools VM       | Standalone or utility server âœ…         |
| **RDCB01**      | 192.168.0.12  | RD Connection Broker                   | Load balancing brain ğŸ§  âœ…              |
| **RDS02**       | 192.168.0.13  | RD Session Host 2                      | Part of RD farm âœ…                       |
| **Dedicated**   | 192.168.0.15  | Direct RDP Access VM (JumpBox)         | Not part of the farm â—âœ…               |

---

## ğŸ” Key Infrastructure Roles

- **DC01**: Central identity and DNS management.
- **RDGateway**: Provides secure HTTPS-based RDP access from public networks.
- **RDCB01**: Balances RDP sessions between RDS hosts.
- **RDS01 / RDS02**: Handle user sessions via RemoteApp or full desktops.
- **FS01**: Stores user profiles, shared folders, or admin tools.
- **Dedicated Server**: Used for testing, RDP access, or staging â€” external facing or isolated.

---

## âœ… Highlights

- Isolated **Internal vSwitch** for secure backend communication.
- RD Gateway **dual NIC** setup:  
  - External NIC (vSwitch0) â†’ Internet  
  - Internal NIC (vSwitch1) â†’ Internal network (192.168.0.0/24)
- RD Session Hosts load-balanced using **RDCB01**.
- Fully integrated with **Active Directory** and **internal DNS**.

---

## ğŸŒ Next Steps

- Setup RDS Collection via Server Manager or PowerShell.
- Test external RDP via RDGateway.
- Implement NAT and routing if needed for outbound internet.
- Document user flow from external access â†’ RDGW â†’ RDCB â†’ RDS01/RDS02.

---

> ğŸ“ Save this in your GitHub repo as `rds-lab-architecture.md` or in your documentation folder for future reference.
